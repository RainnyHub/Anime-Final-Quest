local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Window = WindUI:CreateWindow({
    Title = "Anime Final Quest",
    Icon = "rbxassetid://76136547046287",
    Author = "Rainny Hub",
    Folder = "RainnyHub",
    Size = UDim2.fromOffset(580, 460),
    Transparent = true,
    Theme = "Dark",
    KeySystem = { 
        Key = { "Key!!!", "Key13579" },
        Note = "Key System with Rainny Hub",
        SaveKey = true,
    }
})

Window:Tag({
    Title = "Update : 30/12/25",
    Icon = "pc-case",
    Color = Color3.fromHex("#30ff6a"),
    Radius = 13,
})

Window:EditOpenButton({
    Title = "Rainny Hub",
    Icon = "candy-cane",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("0055FF"),
        Color3.fromHex("C0392B")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

-- Tabs
local MainTab = Window:Tab({ Title = "Main", Icon = "house" })
local TeleportTab = Window:Tab({ Title = "Teleport", Icon = "shell" })
local NewTab = Window:Tab({ Title = "What's new?", Icon = "scroll-text" })

-- [[ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Auto Farm ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà ]]
task.spawn(function()
    local remote = game:GetService("ReplicatedStorage"):WaitForChild("BridgeNet2"):WaitForChild("dataRemoteEvent")
    
    while true do
        task.wait(0.3)
        -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ ‡πÄ‡∏õ‡∏¥‡∏î AutoFarm ‡∏≠‡∏¢‡∏π‡πà "‡πÅ‡∏•‡∏∞" ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Safe
        if _G.AutoFarm and not _G.IsSafing then
            pcall(function()
                for i, v in pairs(workspace.NPCs:GetChildren()) do
                    -- ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏î‡∏µ‡πÜ ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏•‡∏î‡∏à‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ã‡∏ü‡πÇ‡∏´‡∏°‡∏î ‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏∏‡∏î‡∏•‡∏π‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                    if not _G.AutoFarm or _G.IsSafing then break end
                    
                    local hum = v:FindFirstChild("Humanoid")
                    local root = v:FindFirstChild("HumanoidRootPart")

                    if hum and hum.Health > 0 and root then
                        while _G.AutoFarm and not _G.IsSafing and hum.Health > 0 and v.Parent ~= nil do
                            task.wait()
                            local char = game.Players.LocalPlayer.Character
                            local myRoot = char and char:FindFirstChild("HumanoidRootPart")
                            
                            if myRoot then
                                local targetPos = root.Position + Vector3.new(0, 13, 0)
                                myRoot.CFrame = CFrame.lookAt(targetPos, root.Position)
                                myRoot.Velocity = Vector3.new(0, 0, 0)
                                
                                remote:FireServer(unpack({{{[2] = "%"}}}))
                                remote:FireServer(unpack({{{state = Enum.HumanoidStateType.Running, hitcount = 2}, "\f"}}))
                            end
                        end
                    end
                end
            end)
        end
    end
end)

-- ‡∏õ‡∏∏‡πà‡∏° Toggle ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ‡∏û‡∏≠
local ToggleFarm = MainTab:Toggle({
    Title = "Auto Farm",
    Desc = "Fast Farm + Anti-Ban",
    Icon = "swords",
    Value = false,
    Callback = function(state)
        _G.AutoFarm = state
    end
})

--- üìå ‡∏£‡∏∞‡∏ö‡∏ö Auto Skill (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏° 1, 2, 3)
local ToggleSkill = MainTab:Toggle({
    Title = "Auto Skill",
    Desc = "Auto Press 1, 2, 3 (Fast Loop)",
    Icon = "zap",
    Value = false,
    Callback = function(state)
        _G.AutoSkill = state
        if _G.AutoSkill then
            task.spawn(function()
            wait(3)
                local vim = game:GetService("VirtualInputManager")
                -- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
                local skillKeys = {
                    Enum.KeyCode.One, 
                    Enum.KeyCode.Two, 
                    Enum.KeyCode.Three
                }
                
                while _G.AutoSkill do
                    -- ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Auto Skill
                    for _, key in ipairs(skillKeys) do
                        if not _G.AutoSkill then break end
                        
                        pcall(function()
                            vim:SendKeyEvent(true, key, false, game)
                            task.wait(0.05)
                            vim:SendKeyEvent(false, key, false, game)
                        end)
                        task.wait(0.15) -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° (‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô)
                    end
                    task.wait(0.3) -- ‡∏ß‡∏ô‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏Å‡∏¥‡∏•‡∏ó‡∏µ‡πà Cooldown ‡πÄ‡∏™‡∏£‡πá‡∏à
                end
            end)
        end
    end
})

-- [[ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ ]]
local GateCFrame = CFrame.new()
local SelectedPlayers = 1 
_G.SafeModeEnabled = true
_G.IsSafing = false

-- [[ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á Remote ]]
local function EnterGate(stageId, difficultyId)
    pcall(function()
        local root = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        
        -- 1. ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π (‡∏ï‡∏≤‡∏°‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠)
        if root then
            root.CFrame = GateCFrame
            task.wait(0.4) -- ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
        end

        -- 2. ‡∏™‡πà‡∏á Remote ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πà‡∏≤‡∏ô
        local remote = game:GetService("ReplicatedStorage"):WaitForChild("BridgeNet2"):WaitForChild("dataRemoteEvent")
        local args = {
            {
                {
                    "Play",
                    SelectedPlayers, -- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô
                    "Default", 
                    stageId,   -- ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏î‡πà‡∏≤‡∏ô
                    difficultyId, -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å
                    false
                },
                "\030"
            }
        }
        remote:FireServer(unpack(args))
    end)
end

-- [[ ‡∏£‡∏∞‡∏ö‡∏ö Safe Mode (‡∏£‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Å‡∏°) ]]
-- [[ ‡∏£‡∏∞‡∏ö‡∏ö Safe Mode (‡∏£‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Å‡∏°) - ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏¢‡∏∞ TP ]]
task.spawn(function()
    local safePos = nil
    local tickCount = 0
    local skyHeight = 500 -- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ö‡∏ô‡∏ü‡πâ‡∏≤ (‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡πá‡∏ô Studs)
    local jitterStrength = 15 -- ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Ç‡∏¢‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô-‡∏•‡∏á (‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏≤‡∏Å‡∏¢‡∏¥‡πà‡∏á‡∏™‡πà‡∏≤‡∏¢‡πÅ‡∏£‡∏á)

    while true do
        task.wait(0.05) -- ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 0.1 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏±‡∏ö
        
        if _G.SafeModeEnabled then
            local player = game.Players.LocalPlayer
            local char = player.Character
            local hum = char and char:FindFirstChild("Humanoid")
            local root = char and char:FindFirstChild("HumanoidRootPart")
            
            if hum and root then
                local hpPercent = (hum.Health / hum.MaxHealth) * 100
                
                -- [[ ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: ‡πÄ‡∏•‡∏∑‡∏≠‡∏î <= 50% ]]
                if hpPercent <= 30 and not _G.IsSafing then
                    _G.IsSafing = true
                    _G.AutoFarm = false
                    -- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ö‡∏ô‡∏ü‡πâ‡∏≤ (‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏™‡∏π‡∏á‡πÜ)
                    safePos = root.CFrame * CFrame.new(0, skyHeight, 0)
                
                -- [[ ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÄ‡∏ï‡πá‡∏° 100% ]]
                elseif hpPercent >= 100 and _G.IsSafing then
                    _G.IsSafing = false
                    _G.AutoFarm = true
                    safePos = nil
                    if root:FindFirstChild("SafeAnchor") then root.SafeAnchor:Destroy() end
                    -- ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà GateCFrame (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ GateCFrame ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß)
                    if GateCFrame then root.CFrame = GateCFrame end
                end

                -- [[ ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ã‡∏ü: ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ TP ‡∏Ç‡∏∂‡πâ‡∏ô-‡∏•‡∏á ‡πÑ‡∏ß‡πÜ ]]
                if _G.IsSafing and safePos then
                    tickCount = tickCount + 1
                    
                    -- ‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏ï‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ö‡∏ß‡∏Å/‡∏•‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏™‡∏±‡πà‡∏ô (Jitter) ‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á‡∏ö‡∏ô‡∏ü‡πâ‡∏≤
                    local offset = (tickCount % 2 == 0 and jitterStrength or -jitterStrength)
                    root.CFrame = safePos * CFrame.new(0, offset, 0)
                    
                    -- ‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡πÇ‡∏ô‡πâ‡∏°‡∏ñ‡πà‡∏ß‡∏á
                    root.Velocity = Vector3.new(0, 0, 0)
                    
                    -- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏£‡πà‡∏ß‡∏á (Anchor ‡πÄ‡∏ó‡∏µ‡∏¢‡∏°)
                    if not root:FindFirstChild("SafeAnchor") then
                        local bv = Instance.new("BodyVelocity")
                        bv.Name = "SafeAnchor"
                        bv.Velocity = Vector3.new(0, 0, 0)
                        bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                        bv.Parent = root
                    end
                end
            end
        end
    end
end)

-- [[ 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ]]
local GateCFrame = CFrame.new(411.858917, 113.840637, -158.762726, 0.999997973, -0.00103281392, -0.00173109199, 0.000968689506, 0.999327958, -0.0366429202, 0.001767774, 0.0366411693, 0.999326944)
local SelectedMap = 1
local SelectedDiff = 1
local SelectedCount = 1

local TpSection = TeleportTab:Section({
    Title = "Mission Settings",
    Opened = true
})

-- [[ 2. Dropdown ‡πÅ‡∏ö‡∏ö Advanced ‡∏õ‡∏Å‡∏ï‡∏¥ ]]

-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡πà‡∏≤‡∏ô (Select Map)
TpSection:Dropdown({
    Title = "Select Map",
    Values = {
        {
            Title = "Summon Gate",
            Icon = "map",
            Callback = function() 
                SelectedMap = 1 
            end
        },
        {
            Title = "Summon Station - 1",
            Icon = "map-pin",
            Callback = function() 
                SelectedMap = 2 
            end
        },
        {
            Title = "Statue's Cave",
            Icon = "mountain",
            Callback = function() 
                SelectedMap = 3 
            end
        }
    }
})

-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å (Select Difficulty)
TpSection:Dropdown({
    Title = "Select Difficulty",
    Values = {
        {
            Title = "Normal",
            Icon = "swords",
            Callback = function() 
                SelectedDiff = 1 
            end
        },
        {
            Title = "Hard",
            Icon = "flame",
            Callback = function() 
                SelectedDiff = 2 
            end
        }
    }
})

-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô (Select Player Count)
TpSection:Dropdown({
    Title = "Select Player Count",
    Values = {
        { Title = "1 Player", Icon = "user", Callback = function() SelectedCount = 1 end },
        { Title = "2 Players", Icon = "users", Callback = function() SelectedCount = 2 end },
        { Title = "3 Players", Icon = "users-round", Callback = function() SelectedCount = 3 end },
        { Title = "4 Players", Icon = "users-round", Callback = function() SelectedCount = 4 end }
    }
})

-- [[ 3. ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πà‡∏≤‡∏ô (‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤) ]]
TpSection:Button({
    Title = "Enter Mission",
    Desc = "Warp to Gate and Start",
    Callback = function()
        pcall(function()
            local root = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            
            -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏£‡∏∞‡∏ö‡∏∏
            if root then
                root.CFrame = GateCFrame
                task.wait(0.4)
            end

            -- ‡∏™‡πà‡∏á Remote ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ‡∏à‡∏≤‡∏Å Dropdown ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
            local remote = game:GetService("ReplicatedStorage"):WaitForChild("BridgeNet2"):WaitForChild("dataRemoteEvent")
            local args = {
                {
                    {
                        "Play",
                        SelectedCount, 
                        "Default", 
                        SelectedMap,   
                        SelectedDiff, 
                        false
                    },
                    "\030"
                }
            }
            remote:FireServer(unpack(args))
        end)
    end
})

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Section ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Safe Mode ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Main
local SafeSection = MainTab:Section({
    Title = "Safe Mode",
    Opened = true,
})

-- ‡πÉ‡∏™‡πà Toggle ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô Section
-- [[ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Auto Run ]]
_G.SafeModeEnabled = true -- ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
_G.IsSafing = false
_G.AutoFarm = true -- ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ

-- [[ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Safe Mode ]]
-- [[ ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ]]
_G.SafeModeEnabled = false
_G.IsSafing = false
_G.AutoFarm = true -- ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏ü‡∏≤‡∏£‡πå‡∏°

-- [[ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Safe Mode ]]
function RunSafeMode()
    task.spawn(function()
        local safePos = nil
        local skyHeight = 1500 -- ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡∏ö‡∏ô‡∏ü‡πâ‡∏≤ (‡∏õ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ)
        local moveRange = 300  -- ‡∏£‡∏±‡∏®‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ (‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏¢‡∏≠‡∏∞‡∏¢‡∏¥‡πà‡∏á‡∏ö‡∏¥‡∏ô‡πÑ‡∏õ‡πÑ‡∏Å‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà)
        
        while true do
            task.wait(0.01) -- ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡∏™‡∏∏‡∏î‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏ö‡πâ‡∏≤‡∏Ñ‡∏•‡∏±‡πà‡∏á
            
            if _G.SafeModeEnabled then
                local char = game.Players.LocalPlayer.Character
                local hum = char and char:FindFirstChild("Humanoid")
                local root = char and char:FindFirstChild("HumanoidRootPart")
                
                if hum and root then
                    local hpPercent = (hum.Health / hum.MaxHealth) * 100
                    
                    -- [[ ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç: ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 50% ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏ô‡∏µ ]]
                    if hpPercent <= 50 and not _G.IsSafing then
                        _G.IsSafing = true
                        _G.AutoFarm = false
                        -- ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏ß‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
                        safePos = root.CFrame * CFrame.new(0, skyHeight, 0)
                    
                    -- [[ ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç: ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÄ‡∏ï‡πá‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ]]
                    elseif hpPercent >= 100 and _G.IsSafing then
                        _G.IsSafing = false
                        _G.AutoFarm = true
                        safePos = nil
                        if root:FindFirstChild("SafeAnchor") then root.SafeAnchor:Destroy() end
                        -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏ï‡∏π (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ GateCFrame)
                        if GateCFrame then root.CFrame = GateCFrame end
                    end

                    -- [[ ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏¥‡∏ô‡∏ß‡∏≤‡∏¢‡∏õ‡πà‡∏ß‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏ü‡πâ‡∏≤ ]]
                    if _G.IsSafing and safePos then
                        -- ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á X, Y, Z ‡πÅ‡∏ö‡∏ö‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÜ
                        local rx = math.random(-moveRange, moveRange)
                        local ry = math.random(-100, 100) -- ‡∏ö‡∏¥‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏á‡πÅ‡∏£‡∏á‡πÜ
                        local rz = math.random(-moveRange, moveRange)
                        
                        -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≠‡∏ö‡πÜ ‡∏à‡∏∏‡∏î‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ö‡∏ô‡∏ü‡πâ‡∏≤
                        root.CFrame = safePos * CFrame.new(rx, ry, rz)
                        
                        -- ‡∏•‡πá‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏£‡πà‡∏ß‡∏á
                        root.Velocity = Vector3.new(0, 0, 0)
                        if not root:FindFirstChild("SafeAnchor") then
                            local bv = Instance.new("BodyVelocity")
                            bv.Name = "SafeAnchor"
                            bv.Velocity = Vector3.new(0, 0, 0)
                            bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                            bv.Parent = root
                        end
                    end
                end
            end
        end
    end)
end

-- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
RunSafeMode()

-- [[ ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á UI Toggle ]]
SafeSection:Toggle({
    Title = "Safe mode",
    Desc = "‡∏ö‡∏¥‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏±‡πà‡∏ß‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 50%",
    Icon = "shield-check",
    Value = _G.SafeModeEnabled,
    Callback = function(state) 
        _G.SafeModeEnabled = state
        
        if not state then
            _G.IsSafing = false
            -- ‡∏ñ‡πâ‡∏≤‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡πá‡∏≠‡∏Ñ‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            local char = game.Players.LocalPlayer.Character
            local root = char and char:FindFirstChild("HumanoidRootPart")
            if root and root:FindFirstChild("SafeAnchor") then
                root.SafeAnchor:Destroy()
            end
        end
    end
})

-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏ô What's new?
local UpdateSection = NewTab:Section({
    Title = "Version 1.2.0 - Update Log",
    Opened = true
})

UpdateSection:Paragraph({
    Title = "üéâ Safe mode",
    Content = "* Added Advanced Dropdown for Stage Selection.\n* Integrated Safe Mode with Auto-Fly (100 studs).\n* Optimized Auto-Farm & Skill speed."
})

UpdateSection:Paragraph({
    Title = "üõ†Ô∏è Improvements & Fixes",
    Content = "* Removed mandatory teleport to Gate for faster entry.\n* Fixed Safe Mode not anchoring player in the air.\n* Fixed 'Default' stage ID issues for Lv.7 and Lv.15."
})

UpdateSection:Paragraph({
    Title = "‚ö†Ô∏è New Tp to game",
    Content = "If the teleport doesn't trigger, please make sure you are in the Lobby area."
})
